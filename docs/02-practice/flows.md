# üåä –ö–æ—Ä–∏—Å—Ç—É–≤–∞—Ü—å–∫—ñ –°—Ü–µ–Ω–∞—Ä—ñ—ó / –ü–æ—Ç–æ–∫–∏ (User Flows)

## 1. –£—Å–ø—ñ—à–Ω–µ –ë—Ä–æ–Ω—é–≤–∞–Ω–Ω—è (Happy Path) - –ö–ª—ñ—î–Ω—Ç

**–ú–µ—Ç–∞:** –ö–ª—ñ—î–Ω—Ç —É—Å–ø—ñ—à–Ω–æ –±—Ä–æ–Ω—é—î –ø–æ—Å–ª—É–≥—É –Ω–∞ –≤—ñ–ª—å–Ω–∏–π —á–∞—Å.

1.  **–ü–æ—á–∞—Ç–æ–∫:** –ö–ª—ñ—î–Ω—Ç –≤—ñ–¥–∫—Ä–∏–≤–∞—î —Å—Ç–æ—Ä—ñ–Ω–∫—É –±—Ä–æ–Ω—é–≤–∞–Ω–Ω—è.
2.  **–û–±–∏—Ä–∞—î –ü–æ—Å–ª—É–≥—É:** –û–±–∏—Ä–∞—î –Ω–µ–æ–±—Ö—ñ–¥–Ω—É –ø–æ—Å–ª—É–≥—É –∑—ñ —Å–ø–∏—Å–∫—É (–Ω–∞–ø—Ä–∏–∫–ª–∞–¥, "–°—Ç—Ä–∏–∂–∫–∞ –∂—ñ–Ω–æ—á–∞").
3.  **–ü–µ—Ä–µ–≥–ª—è–¥–∞—î –°–ª–æ—Ç–∏ (GET /timeslots):** –°–∏—Å—Ç–µ–º–∞ –≤—ñ–¥–ø—Ä–∞–≤–ª—è—î –∑–∞–ø–∏—Ç –Ω–∞ –≤—ñ–ª—å–Ω—ñ —Å–ª–æ—Ç–∏, —Ñ—ñ–ª—å—Ç—Ä—É—é—á–∏ –∑–∞ –ø–æ—Å–ª—É–≥–æ—é.
4.  **–§—ñ–ª—å—Ç—Ä—É—î / –û–±–∏—Ä–∞—î –î–∞—Ç—É:** –ö–ª—ñ—î–Ω—Ç –æ–±–∏—Ä–∞—î –ø–æ—Ç—Ä—ñ–±–Ω—É –¥–∞—Ç—É —É –∫–∞–ª–µ–Ω–¥–∞—Ä—ñ.
5.  **–û–±–∏—Ä–∞—î –ß–∞—Å:** –û–±–∏—Ä–∞—î –¥–æ—Å—Ç—É–ø–Ω–∏–π —Ç–∞–π–º—Å–ª–æ—Ç (–Ω–∞–ø—Ä–∏–∫–ª–∞–¥, 2025-12-05 10:00:00Z).
6.  **–ü–µ—Ä–µ—Ö–æ–¥–∏—Ç—å –¥–æ –§–æ—Ä–º–∏:** –ù–∞—Ç–∏—Å–∫–∞—î "–ó–∞–±—Ä–æ–Ω—é–≤–∞—Ç–∏".
7.  **–ó–∞–ø–æ–≤–Ω—é—î –î–∞–Ω—ñ:** –í–≤–æ–¥–∏—Ç—å –Ü–º'—è, –¢–µ–ª–µ—Ñ–æ–Ω/Email.
8.  **–ë—Ä–æ–Ω—é—î (POST /bookings):** –í—ñ–¥–±—É–≤–∞—î—Ç—å—Å—è –∑–∞–ø–∏—Ç –¥–æ API –Ω–∞ —Å—Ç–≤–æ—Ä–µ–Ω–Ω—è –±—Ä–æ–Ω—é–≤–∞–Ω–Ω—è.
9.  **–°—Ç–∞–Ω "Success":** –°–∏—Å—Ç–µ–º–∞ –≤—ñ–¥–æ–±—Ä–∞–∂–∞—î –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω–Ω—è –ø—Ä–æ —É—Å–ø—ñ—à–Ω–µ –±—Ä–æ–Ω—é–≤–∞–Ω–Ω—è —Ç–∞ –Ω–æ–º–µ—Ä –∑–∞–ø–∏—Å—É.

---

## 2. –ü–µ—Ä–µ–≥–ª—è–¥ —ñ—Å–Ω—É—é—á–∏—Ö –±—Ä–æ–Ω—é–≤–∞–Ω—å (Master)

**–ú–µ—Ç–∞:** –ú–∞–π—Å—Ç–µ—Ä –ø–µ—Ä–µ–≥–ª—è–¥–∞—î —Å–≤—ñ–π —Ä–æ–±–æ—á–∏–π —Ä–æ–∑–∫–ª–∞–¥ –Ω–∞ —Å—å–æ–≥–æ–¥–Ω—ñ.

1.  **–ü–æ—á–∞—Ç–æ–∫:** –ú–∞–π—Å—Ç–µ—Ä –∞–≤—Ç–æ—Ä–∏–∑—É—î—Ç—å—Å—è —É —Å–∏—Å—Ç–µ–º—ñ.
2.  **–û–±–∏—Ä–∞—î –î–∞—Ç—É:** –û–±–∏—Ä–∞—î –ø–æ—Ç–æ—á–Ω—É –¥–∞—Ç—É (–∞–±–æ —ñ–Ω—à—É) –¥–ª—è –ø–µ—Ä–µ–≥–ª—è–¥—É.
3.  **–ó–∞–ø–∏—Ç—É—î –ë—Ä–æ–Ω—é–≤–∞–Ω–Ω—è (GET /bookings?master_id=...):** –í—ñ–¥–±—É–≤–∞—î—Ç—å—Å—è –∑–∞–ø–∏—Ç –¥–æ API –Ω–∞ –æ—Ç—Ä–∏–º–∞–Ω–Ω—è —Å–ø–∏—Å–∫—É –±—Ä–æ–Ω—é–≤–∞–Ω—å.
4.  **–ü–∞–≥—ñ–Ω–∞—Ü—ñ—è (Performance-first):** –Ø–∫—â–æ –∑–∞–ø–∏—Å—ñ–≤ –±–∞–≥–∞—Ç–æ, —Å–∏—Å—Ç–µ–º–∞ –∑–∞—Å—Ç–æ—Å–æ–≤—É—î –ø–∞–≥—ñ–Ω–∞—Ü—ñ—é, —â–æ–± –Ω–µ –∑–∞–≤–∞–Ω—Ç–∞–∂—É–≤–∞—Ç–∏ –≤—Å—ñ –¥–∞–Ω—ñ –æ–¥—Ä–∞–∑—É.
5.  **–í—ñ–¥–æ–±—Ä–∞–∂–∞—î –°–ø–∏—Å–æ–∫:** –°–∏—Å—Ç–µ–º–∞ –≤—ñ–¥–æ–±—Ä–∞–∂–∞—î —Å–ø–∏—Å–æ–∫ –∫–ª—ñ—î–Ω—Ç—ñ–≤, –ø–æ—Å–ª—É–≥ —Ç–∞ —á–∞—Å—É —ó—Ö–Ω—å–æ–≥–æ –∑–∞–ø–∏—Å—É.

---

## 3. –°—Ü–µ–Ω–∞—Ä—ñ–π –ü–æ–º–∏–ª–∫–∏: –°–ª–æ—Ç –≤–∂–µ –∑–∞–π–Ω—è—Ç–∏–π (Concurrent Booking)

**–ú–µ—Ç–∞:** –ü–æ–∫–∞–∑–∞—Ç–∏, —è–∫ —Å–∏—Å—Ç–µ–º–∞ —Ä–µ–∞–≥—É—î –Ω–∞ —Å–ø—Ä–æ–±—É –∑–∞–±—Ä–æ–Ω—é–≤–∞—Ç–∏ –∑–∞–π–Ω—è—Ç–∏–π —Å–ª–æ—Ç.

1.  **–ü–æ—á–∞—Ç–æ–∫:** –ö–ª—ñ—î–Ω—Ç A –±–∞—á–∏—Ç—å –≤—ñ–ª—å–Ω–∏–π —Å–ª–æ—Ç $T_1$. –ö–ª—ñ—î–Ω—Ç B —Ç–∞–∫–æ–∂ –±–∞—á–∏—Ç—å –≤—ñ–ª—å–Ω–∏–π —Å–ª–æ—Ç $T_1$.
2.  **–ì–æ–Ω–∫–∞:** –ö–ª—ñ—î–Ω—Ç A –ø–µ—Ä—à–∏–º –≤—ñ–¥–ø—Ä–∞–≤–ª—è—î –∑–∞–ø–∏—Ç **POST /bookings** –Ω–∞ $T_1$.
3.  **–£—Å–ø—ñ—Ö A:** API —Ñ—ñ–∫—Å—É—î –±—Ä–æ–Ω—é–≤–∞–Ω–Ω—è –≤—ñ–¥ –ö–ª—ñ—î–Ω—Ç–∞ A.
4.  **–°–ø—Ä–æ–±–∞ B:** –ö–ª—ñ—î–Ω—Ç B —á–µ—Ä–µ–∑ –º–∏—Ç—å –≤—ñ–¥–ø—Ä–∞–≤–ª—è—î —Å–≤—ñ–π –∑–∞–ø–∏—Ç **POST /bookings** –Ω–∞ —Ç–æ–π —Å–∞–º–∏–π $T_1$.
5.  **–í—ñ–¥–º–æ–≤–∞/–ü–æ–º–∏–ª–∫–∞:** API –ø–æ–≤–µ—Ä—Ç–∞—î –ø–æ–º–∏–ª–∫—É **`409 Conflict`** –∞–±–æ —Å–ø–µ—Ü—ñ–∞–ª—å–Ω–∏–π –∫–æ–¥ **`BOOKING_FULL`** (–∑–≥—ñ–¥–Ω–æ `nfr-checklist.md`), –æ—Å–∫—ñ–ª—å–∫–∏ –º—ñ—Å—Ç–∫—ñ—Å—Ç—å —Å–ª–æ—Ç–∞ $\le 3$ –≤–∂–µ –≤–∏—á–µ—Ä–ø–∞–Ω–∞.
6.  **–°—Ç–∞–Ω "Error":** –°–∏—Å—Ç–µ–º–∞ –≤—ñ–¥–æ–±—Ä–∞–∂–∞—î –ö–ª—ñ—î–Ω—Ç—É B –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω–Ω—è: "–ù–∞ –∂–∞–ª—å, —Ü–µ–π —á–∞—Å —â–æ–π–Ω–æ –∑–∞–±—Ä–æ–Ω—é–≤–∞–ª–∏. –û–±–µ—Ä—ñ—Ç—å —ñ–Ω—à–∏–π —Å–ª–æ—Ç."
